
# Emotional Support Chatbot 情感支持機器人

## 專案概述

### 目的

此專案旨在打造一支個人化情感支持機器人，能夠在需要時提供正向情緒支持，充當聆聽抱怨、分享心情的角色。我們期望透過這支機器人，為使用者提供無條件的正向支持。
(未來也不排除設定多個角色切換)

### 預期功能

- 根據使用者輸入提供正向支持性回覆。
- 支援客製化回覆風格，同時能夠記憶使用者的偏好。
- 儲存使用者的歷史資訊，以防機器人失憶。

## 專案結構

### 系統結構

![系統結構](./docs/images/system_structure.png)

主要透過 ChatGPT API 處理回應邏輯，運算資源建構於 AWS Lambda 上，API Gateway 用於接受請求，而 DynamoDB 用於紀錄使用者需求及相關 Log。
(這裡使用 dynamoDB 的原因主要是它有 free-trial)

### 程式結構

![程式結構](./docs/images/code_structure.png)

## 數據需求

使用 DynamoDB 儲存數據，包含以下三張表：

1. **Users：** 紀錄使用者ID、註冊時間、以及使用的 prompt。
2. **Logs：** 紀錄使用者輸入的句子、使用的 prompt、ChatGPT 的回應，以及其他相關參數。

![數據結構](./docs/images/data_structure.png)

## 用戶故事

### 小明的使用者故事

- **情境：** 小明希望機器人能夠提供溫暖和支持。
- **步驟：**
  1. 小明向機器人表達情感或需求。
  2. 機器人回覆積極的支持性內容。
  3. 小明檢查回覆是否符合正向支持的預期。
  4. 小明調整回覆風格的偏好，再次與機器人互動，確認風格是否得到了反映。
  5. 小明檢查機器人是否能夠記憶他的偏好。

### 使用者資訊更新的用戶故事

- **情境：** 小華的上線時間有所改變。
- **步驟：**
  1. 小華更改上線時間。
  2. 小華與機器人互動。
  3. 機器人應根據小華的新上線時間進行回覆。
  4. 小華檢查機器人的回覆，確認是否正確反映了他的新上線時間。

## 驗收方式

- **回覆內容正向支持：** 測試機器人是否能夠根據使用者的輸入提供正向支持的回覆。確保回覆風格是積極的、支持性的。

- **客製化回覆風格：** 測試機器人是否能夠根據使用者的偏好客製化回覆風格。測試不同的偏好設置，確保機器人能夠正確適應。

- **記憶使用者偏好：** 測試機器人是否能夠記憶使用者的偏好，即使在多次對話中也能保持一致。

- **使用者資訊儲存：** 測試機器人是否能夠正確儲存使用者的相關資訊，包括ID、註冊時間、上線時間、以及使用的 prompt。

- **Log 紀錄：** 確認 log 表是否正確記錄使用者輸入、使用的 prompt ID、ChatGPT 的回應以及其他相關參數。

- **Prompt 管理：** 測試 prompt 表是否正確儲存預設及使用者設定的 prompt。

## 限制與假設

- **ChatGPT 回覆內容控制：** 由於回覆邏輯使用 ChatGPT 實作，無法嚴格控制其回覆內容。測試應關注使用 prompt 是否能夠有效地影響回覆風格。

- **免費資源上的效能：** 限制與假設中提到系統建立於 AWS 免費資源上，因此不進行效能檢測。確保在正式運營前，考慮到系統的效能和成本。

- **Prompt 管理的設計預期：** 系統假設 prompt 表包含預設及使用者設定的 prompt，測試應確認這種設計是否滿足需求，並在有需要時進行修正。
